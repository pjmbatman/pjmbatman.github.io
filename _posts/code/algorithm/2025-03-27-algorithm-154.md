---
title: "ğŸ§  Algorithm 154: ì„œë²„ ì¦ì„¤ íšŸìˆ˜"
date: 2025-03-27
categories: [Code, Algorithm]
tags: [Python, Programmers, Queue, Lv2]
---

# ì„œë²„ ì¦ì„¤ íšŸìˆ˜

ìƒì„± ì¼ì‹œ: 2025ë…„ 3ì›” 27ì¼ ì˜¤í›„ 10:33
ë‚œì´ë„: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ lv.2
ìœ í˜•: í™
í‘¼ ì‹œê°„ (ë¶„): 30
í‘¼ íšŸìˆ˜: 1
ì°¸ê³  ë§í¬: https://school.programmers.co.kr/learn/courses/30/lessons/389479

### **ë¬¸ì œ ì„¤ëª…**

ë‹¹ì‹ ì€ ì˜¨ë¼ì¸ ê²Œì„ì„ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê°™ì€ ì‹œê°„ëŒ€ì— ê²Œì„ì„ ì´ìš©í•˜ëŠ” ì‚¬ëŒì´Â `m`ëª… ëŠ˜ì–´ë‚  ë•Œë§ˆë‹¤ ì„œë²„ 1ëŒ€ê°€ ì¶”ê°€ë¡œ í•„ìš”í•©ë‹ˆë‹¤. ì–´ëŠ ì‹œê°„ëŒ€ì˜ ì´ìš©ìê°€Â `m`ëª… ë¯¸ë§Œì´ë¼ë©´, ì„œë²„ ì¦ì„¤ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì–´ëŠ ì‹œê°„ëŒ€ì˜ ì´ìš©ìê°€Â `n x m`ëª… ì´ìƒÂ `(n + 1) x m`ëª… ë¯¸ë§Œì´ë¼ë©´ ìµœì†ŒÂ `n`ëŒ€ì˜ ì¦ì„¤ëœ ì„œë²„ê°€ ìš´ì˜ ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤. í•œ ë²ˆ ì¦ì„¤í•œ ì„œë²„ëŠ”Â `k`ì‹œê°„ ë™ì•ˆ ìš´ì˜í•˜ê³  ê·¸ ì´í›„ì—ëŠ” ë°˜ë‚©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´,Â `k`Â = 5 ì¼ ë•Œ 10ì‹œì— ì¦ì„¤í•œ ì„œë²„ëŠ” 10 ~ 15ì‹œì—ë§Œ ìš´ì˜ë©ë‹ˆë‹¤.

í•˜ë£¨ ë™ì•ˆ ëª¨ë“  ê²Œì„ ì´ìš©ìê°€ ê²Œì„ì„ í•˜ê¸° ìœ„í•´ ì„œë²„ë¥¼ ìµœì†Œ ëª‡ ë²ˆ ì¦ì„¤í•´ì•¼ í•˜ëŠ”ì§€ ì•Œê³  ì‹¶ìŠµë‹ˆë‹¤. ê°™ì€ ì‹œê°„ëŒ€ì— ì„œë²„ë¥¼ xëŒ€ ì¦ì„¤í–ˆë‹¤ë©´ í•´ë‹¹ ì‹œê°„ëŒ€ì˜ ì¦ì„¤ íšŸìˆ˜ëŠ” xíšŒì…ë‹ˆë‹¤.

ë‹¤ìŒì€Â `m`Â = 3,Â `k`Â = 5 ì¼ ë•Œì˜ ì‹œê°„ëŒ€ë³„ ì¦ì„¤ëœ ì„œë²„ì˜ ìˆ˜ì™€ ì¦ì„¤ íšŸìˆ˜ ì˜ˆì‹œì…ë‹ˆë‹¤.

| ì‹œê° | ê²Œì„ ì´ìš©ìì˜ ìˆ˜ | ì¦ì„¤ëœ ì„œë²„ì˜ ìˆ˜ | ì¦ì„¤ íšŸìˆ˜ |
| --- | --- | --- | --- |
| 0 ~ 1 | 0 | 0 | 0 |
| 1 ~ 2 | 2 | 0 | 0 |
| 2 ~ 3 | 3 | 1 | 1 |
| 3 ~ 4 | 3 | 1 | 0 |
| 4 ~ 5 | 1 | 1 | 0 |
| 5 ~ 6 | 2 | 1 | 0 |
| 6 ~ 7 | 0 | 1 | 0 |
| 7 ~ 8 | 0 | 0 | 0 |
| 8 ~ 9 | 0 | 0 | 0 |
| 9 ~ 10 | 0 | 0 | 0 |
| 10 ~ 11 | 4 | 1 | 1 |
| 11 ~ 12 | 2 | 1 | 0 |
| 12 ~ 13 | 0 | 1 | 0 |
| 13 ~ 14 | 6 | 2 | 1 |
| 14 ~ 15 | 0 | 2 | 0 |
| 15 ~ 16 | 4 | 1 | 0 |
| 16 ~ 17 | 2 | 1 | 0 |
| 17 ~ 18 | 13 | 4 | 3 |
| 18 ~ 19 | 3 | 3 | 0 |
| 19 ~ 20 | 5 | 3 | 0 |
| 20 ~ 21 | 10 | 3 | 0 |
| 21 ~ 22 | 0 | 3 | 0 |
| 22 ~ 23 | 1 | 0 | 0 |
| 23 ~ 24 | 5 | 1 | 1 |

ëª¨ë“  ê²Œì„ ì´ìš©ìë¥¼ ê°ë‹¹í•˜ê¸° ìœ„í•´ ìµœì†Œ 7ë²ˆ ì„œë²„ë¥¼ ì¦ì„¤í•´ì•¼ í•˜ë©°, ì´ë³´ë‹¤ ì ì€ ìˆ˜ì˜ ì„œë²„ ì¦ì„¤ë¡œëŠ” ëª¨ë“  ê²Œì„ ì´ìš©ìë¥¼ ê°ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

0ì‹œì—ì„œ 23ì‹œê¹Œì§€ì˜ ì‹œê°„ëŒ€ë³„ ê²Œì„ ì´ìš©ìì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 1ì°¨ì› ì •ìˆ˜ ë°°ì—´Â `players`, ì„œë²„ í•œ ëŒ€ë¡œ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì´ìš©ìì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜Â `m`, ì„œë²„ í•œ ëŒ€ê°€ ìš´ì˜ ê°€ëŠ¥í•œ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜Â `k`ê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤. ì´ë•Œ, ëª¨ë“  ê²Œì„ ì´ìš©ìë¥¼ ê°ë‹¹í•˜ê¸° ìœ„í•œ ìµœì†Œ ì„œë²„ ì¦ì„¤ íšŸìˆ˜ë¥¼ return í•˜ë„ë¡ solutionì„ ì™„ì„±í•´ ì£¼ì„¸ìš”.

---

### ì œí•œì‚¬í•­

- `players`ì˜ ê¸¸ì´ = 24
    - 0 â‰¤Â `players`ì˜ ì›ì†Œ â‰¤ 1,000
    - `players[i]`ëŠ”Â `i`ì‹œ ~Â `i+1`ì‹œ ì‚¬ì´ì˜ ê²Œì„ ì´ìš©ìì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- 1 â‰¤Â `m`Â â‰¤ 1,000
- 1 â‰¤Â `k`Â â‰¤ 24

---

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ êµ¬ì„± ì•ˆë‚´

ì•„ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ êµ¬ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ê° ê·¸ë£¹ ë‚´ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ í†µê³¼í•˜ë©´ í•´ë‹¹ ê·¸ë£¹ì— í• ë‹¹ëœ ì ìˆ˜ë¥¼ íšë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| ê·¸ë£¹ | ì´ì  | ì¶”ê°€ ì œí•œ ì‚¬í•­ |
| --- | --- | --- |
| #1 | 5% | m =Â `1`, k =Â `1` |
| #2 | 7% | k =Â `1` |
| #3 | 88% | ì¶”ê°€ ì œí•œ ì‚¬í•­ ì—†ìŒ |

---

### ì…ì¶œë ¥ ì˜ˆ

| players | m | k | result |
| --- | --- | --- | --- |
| [0, 2, 3, 3, 1, 2, 0, 0, 0, 0, 4, 2, 0, 6, 0, 4, 2, 13, 3, 5, 10, 0, 1, 5] | 3 | 5 | 7 |
| [0, 0, 0, 10, 0, 12, 0, 15, 0, 1, 0, 1, 0, 0, 0, 5, 0, 0, 11, 0, 8, 0, 0, 0] | 5 | 1 | 11 |
| [0, 0, 0, 0, 0, 2, 0, 0, 0, 1, 0, 5, 0, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1] | 1 | 1 | 12 |

---

### ë¬¸ì œ í’€ì´

- íë¥¼ í™œìš©í•´ ì„ ì…ì„ ì¶œ ë°©ì‹ìœ¼ë¡œ ìˆœì°¨ì ì¸ ë¹„êµë¥¼ ìˆ˜í–‰í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```python
# mëª… ë¯¸ë§Œ -> ì„œë²„ x
# n * m <= x < (n+1) * m -> ìµœì†Œ nëŒ€ ìš´ì˜ì¤‘
# ì„œë²„ëŠ” kì‹œê°„ ë™ì•ˆ ìš´ì˜í•˜ê³  ë°˜ë‚©
# end_timeì´ë‘ ê°™ì´ ì €ì¥í•´ì„œ ìš°ì„ ìˆœìœ„ íì— ë„£ê³ , í™•ì¸
# í•˜ë£¨ 24ì‹œ
import heapq
def solution(players, m, k):
    heap = []
    heapq.heapify(heap)
    total_count = 0
    server = 0
    for time, player in enumerate(players):
        while heap and heap[0][0] + k <= time: # ì„œë²„ ë°˜ë‚© ì²´í¬
            _, remove_server = heapq.heappop(heap)
            server -= remove_server
            
        if player < m:
            continue
        
        else:
            n = 1
            while True:
                if n*m <= player < (n+1)*m:
                    break
                else:
                    n += 1
            if server >= n:
                continue
            else:
                additional_server = n - server # ì¦ëŸ‰í•´ì•¼ë  ì„œë²„
                total_count += additional_server
                heapq.heappush(heap, [time, additional_server])
                server = n

    return total_count
```